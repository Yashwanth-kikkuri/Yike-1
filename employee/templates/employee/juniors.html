{% extends 'home/base2.html' %}

{% load static %}

{% block extrahead %}
<meta http-equiv="content-type" content="text/html;charset=UTF-8" />

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Language" content="en">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Juniors Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no"/>
    <meta name="description" content="This is an example dashboard created using build-in elements and components.">
    <meta name="msapplication-tap-highlight" content="no">
    <link href="{% static 'dashboard/main.cba69814a806ecc7945a.css' %}" rel="stylesheet">

    <link href="{% static 'employee/nouislider.min.css' %}" rel="stylesheet">
    <link href="{% static 'employee/styles.css' %}" rel="stylesheet">
    <link href="{% static 'employee/font-awesome.min.css' %}" rel="stylesheet">


    <style media="screen">

      .notice {
        position: relative;
        margin: 0.6em;
        background: #F9F9F9;
        padding: 1em 1em 0.3em 2em;
        border-left: 4px solid #DDD;
        box-shadow: 0 1px 1px rgba(0, 0, 0, 0.125);
      }

      #users-doughnut-chart, #users-spline-chart {
				height: 280px;
				margin-top: 2rem;
        margin-bottom: 4rem;
				width: 100%;
			}

      .notice:before {
        position: absolute;
        top: 50%;
        margin-top: -17px;
        left: -17px;
        background-color: #DDD;
        color: #FFF;
        width: 30px;
        height: 30px;
        border-radius: 100%;
        text-align: center;
        line-height: 30px;
        font-weight: bold;
        font-family: Georgia;
        text-shadow: 1px 1px rgba(0, 0, 0, 0.5);
      }

      .button {
        background-color: white;
        color: black;
        border: 2px solid #008CBA;
        display: inline-block;
        border-radius: 4px;
        text-align: center;
        font-size: 15px;
        padding: 5px;
        width: 32%;
        height: 10%;
        transition: all 0.5s;
        cursor: pointer;
        margin: 5px;
        float: right;
      }

      .button span {
        cursor: pointer;
        display: inline-block;
        position: relative;
        transition: 0.5s;
      }

      .button span:after {
        content: '\00bb';
        position: absolute;
        opacity: 0;
        top: 0;
        right: -10px;
        transition: 0.5s;
      }

      .button:hover span {
        padding-right: 25px;
      }

      .button:hover span:after {
        opacity: 1;
        right: 0;
      }

      .modal {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 100; /* Sit on top */
        padding-top: 15%; /* Location of the box */
        left: 0;
        top: 0;
        width: 100%; /* Full width */
        height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgb(0,0,0); /* Fallback color */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
      }

      /* Modal Content */
      .modal-content {
        background-color: #fefefe;
        margin: auto;
        padding: 0;
        border: 1px solid #888;
        width: 50%;
        height: 70%;
        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);
        -webkit-animation-name: animatetop;
        -webkit-animation-duration: 0.4s;
        animation-name: animatetop;
        animation-duration: 0.4s;
        overflow: scroll;
      }

      /* Add Animation */
      @-webkit-keyframes animatetop {
        from {top:-300px; opacity:0}
        to {top:0; opacity:1}
      }

      @keyframes animatetop {
        from {top:-300px; opacity:0}
        to {top:0; opacity:1}
      }

      /* The Close Button */
      .close {
        color: black;
        float: right;
        font-size: 28px;
        font-weight: bold;
      }

      .close:hover,
      .close:focus {
        color: #000;
        text-decoration: none;
        cursor: pointer;
      }

      .modal-header {
        padding: 2px 16px;
        background-color: #5cb85c;
        color: white;
      }

      .modal-body {padding: 2px 16px;}

      .modal-footer {
        padding: 2px 16px;
        background-color: #5cb85c;
        color: white;
      }

      .inner_div {
        border-radius:10px;
        padding:2%;
        border: 1px solid rgb(200,200,200);
      }

    </style>

{% endblock %}

{% block body %}
<div class="app-container app-theme-white body-tabs-shadow fixed-header fixed-sidebar">

    <div class="app-main">
            <div class="app-sidebar sidebar-shadow">
                <div class="app-header__logo">
                    <div class="logo-src"></div>
                    <div class="header__pane ml-auto">
                        <div>
                            <button type="button" class="hamburger close-sidebar-btn hamburger--elastic" data-class="closed-sidebar">
                                <span class="hamburger-box">
                                    <span class="hamburger-inner"></span>
                                </span>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="app-header__mobile-menu">
                    <div>
                        <button type="button" class="hamburger hamburger--elastic mobile-toggle-nav">
                            <span class="hamburger-box">
                                <span class="hamburger-inner"></span>
                            </span>
                        </button>
                    </div>
                </div>
                <div class="app-header__menu">
                    <span>
                        <button type="button" class="btn-icon btn-icon-only btn btn-primary btn-sm mobile-toggle-header-nav">
                            <span class="btn-icon-wrapper">
                                <i class="fa fa-ellipsis-v fa-w-6"></i>
                            </span>
                        </button>
                    </span>
                </div>
                <div class="scrollbar-sidebar">
                    <div class="app-sidebar__inner">
                        <ul class="vertical-nav-menu">
                            <li class="app-sidebar__heading">Menu</li>
                            <li class="mm-active">
                                <a href="#">
                                    <i class="metismenu-icon pe-7s-rocket"></i>
                                    Dashboards
                                    <i class="metismenu-state-icon pe-7s-angle-down caret-left"></i>
                                </a>
                                <ul>
                                    <li>
                                        <a href="{% url 'employee:juniors' %}"  class="mm-active">
                                            <i class="metismenu-icon">
                                            </i>Home
                                        </a>
                                    </li>
                                   
                        </ul>
                    </div>
                </div>
            </div>

            <div class="app-main__outer">
                <div class="app-main__inner">
                    <div class="tabs-animation">

<!-- ##################################### Stats #####################################-->

                        <div class="mb-3 card">
                            <div class="card-header-tab card-header">
                                <div class="card-header-title font-size-lg text-capitalize font-weight-normal">
                                    <i class="header-icon lnr-charts icon-gradient bg-happy-green"> </i>
                                    Portfolio Performance
                                </div>
                            </div>

                            <div class="no-gutters row">
                                <div class="col-sm-6 col-md-4 col-xl-4">
                                    <div class="card no-shadow rm-border bg-transparent widget-chart text-left">
                                        <div class="icon-wrapper rounded-circle">
                                            <div class="icon-wrapper-bg opacity-10 bg-warning"></div>
                                            <i class="lnr-laptop-phone text-dark opacity-8"></i></div>
                                        <div class="widget-chart-content">
                                            <div class="widget-subheading">To be solved today</div>
                                            <div class="widget-numbers">8</div>
                                            <div class="widget-description opacity-8 text-focus">
                                                <div class="d-inline text-danger pr-1">
                                                    <i class="fa fa-angle-down"></i>
                                                    <span class="pl-1">54.1%</span>
                                                </div>
                                                less earnings
                                            </div>
                                        </div>
                                    </div>
                                    <div class="divider m-0 d-md-none d-sm-block"></div>
                                </div>
                                <div class="col-sm-6 col-md-4 col-xl-4">
                                    <div class="card no-shadow rm-border bg-transparent widget-chart text-left">
                                        <div class="icon-wrapper rounded-circle">
                                            <div class="icon-wrapper-bg opacity-9 bg-danger"></div>
                                            <i class="lnr-graduation-hat text-white"></i></div>
                                        <div class="widget-chart-content">
                                            <div class="widget-subheading">High Priority</div>
                                            <div class="widget-numbers"><span>4</span></div>
                                            <div class="widget-description opacity-8 text-focus">
                                                Grow Rate:
                                                <span class="text-info pl-1">
                                                    <i class="fa fa-angle-down"></i>
                                                    <span class="pl-1">14.1%</span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="divider m-0 d-md-none d-sm-block"></div>
                                </div>
                                <div class="col-sm-12 col-md-4 col-xl-4">
                                    <div class="card no-shadow rm-border bg-transparent widget-chart text-left">
                                        <div class="icon-wrapper rounded-circle">
                                            <div class="icon-wrapper-bg opacity-9 bg-success"></div>
                                            <i class="lnr-apartment text-white"></i></div>
                                        <div class="widget-chart-content">
                                            <div class="widget-subheading">Total left</div>
                                            <div class="widget-numbers text-success"><span>24</span></div>
                                            <div class="widget-description text-focus">
                                                Increased by
                                                <span class="text-warning pl-1">
                                                    <i class="fa fa-angle-up"></i>
                                                    <span class="pl-1">7.35%</span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="text-center d-block p-3 card-footer">
                            </div>
                        </div>

<!-- ################################### Chart 1 #######################################-->

                        <div class="col-lg-12 col-md-2">
                          <h4 class="population-charts-title">Complaints Alloted and Missed</h4>
                          <div class="inview" id="users-spline-chart"></div>
                        </div>
                        <br><br>

                        <!-- ##################################### Juniors #####################################-->

                                                <div class="card mb-3" style="width:100%; float:left">
                                                    <div class="card-header-tab card-header">
                                                        <div class="card-header-title font-size-lg text-capitalize font-weight-normal"><i class="header-icon lnr-laptop-phone mr-3 text-muted opacity-6"> </i>Complaints</div>
                                                        <div class="btn-actions-pane-right actions-icon-btn">
                                                            <div class="btn-group dropdown">
                                                                <div tabindex="-1" role="menu" aria-hidden="true" class="dropdown-menu-right rm-pointers dropdown-menu-shadow dropdown-menu-hover-link dropdown-menu"><h6 tabindex="-1" class="dropdown-header">Header</h6>
                                                                    <button type="button" tabindex="0" class="dropdown-item"><i class="dropdown-icon lnr-inbox"> </i><span>Menus</span></button>
                                                                    <button type="button" tabindex="0" class="dropdown-item"><i class="dropdown-icon lnr-file-empty"> </i><span>Settings</span></button>
                                                                    <button type="button" tabindex="0" class="dropdown-item"><i class="dropdown-icon lnr-book"> </i><span>Actions</span></button>
                                                                    <div tabindex="-1" class="dropdown-divider"></div>
                                                                    <div class="p-3 text-right">
                                                                        <button class="mr-2 btn-shadow btn-sm btn btn-link">View Details</button>
                                                                        <button class="mr-2 btn-shadow btn-sm btn btn-primary">Action</button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="card-body">
                                                        <table style="width: 100%;" id="example" class="table table-hover table-striped table-bordered">
                                                            <thead>
                                                            <tr>
                                                                <th style="width:25%">Name</th>
                                                                <th style="width:25%">Department</th>
                                                                <th style="width:25%">Level</th>
                                                                <th style="width:25%">No Of Complaints Handling</th>
                                                            </tr>
                                                            </thead>
                                                            <tbody>
                                                            {% for name,department,hierarchy,no_complaints in info_list %}
                                                                <tr>
                                                                    <td>{{ name }}</td>
                                                                    <td>{{ department }}</td>
                                                                    <td>{{ hierarchy }}</td>
                                                                    <td>{{ no_complaints }}</td>
                                                                </tr>
                                                            {% endfor %}
                                                            </tbody>
                                                            <tfoot>
                                                            <tr>
                                                                <th style="width:25%">Name</th>
                                                                <th style="width:25%">Department</th>
                                                                <th style="width:25%">Level</th>
                                                                <th style="width:25%">No Of Complaints Handling</th>
                                                            </tr>
                                                            </tfoot>
                                                        </table>
                                                    </div>
                                                </div>

                                                <div class="row">
                                          			     <hr>
                                          			</div>

                        <!-- ####################################### C1 #############################################-->

                                                <div class="row">
                                                <br><h4 class="chart-title">Department size Vs Efficiency</h4>

                                                <div class="col-lg-11 col-xs-12">
                                                  <div id="GDP-per-capita-bubble-chart"></div>
                                                </div>
                                                <div class="col-lg-1 hidden-md-down"></div>
                                                <div class="col-lg-11 col-xs-12 pull-right" style="margin:20px 0 50px 0;">
                                                <div class="col-xs-1">
                                                  <i class="fa fa-play play-btn" aria-hidden="true" id="startGraphAnimation"></i>
                                                  <i class="fa fa-pause pause-btn" aria-hidden="true" id="pauseGraphAnimation" style="display: none;"></i>
                                                </div>
                                                <div class="col-xs-10 col-sm-11 slider">
                                                  <div id="year-slider"></div>
                                                </div>
                                                </div>
                                                </div>

                        <!-- ####################################### C2,3 ###########################################-->

                                          			<div class="row" id="population-charts">
                                          				<div class="col-lg-11 col-xs-12 remove-population-charts-padding">
                                                    <br><br>
                                          					<div class="col-sm-12 col-lg-6">
                                          						<h4 class="population-charts-title">On-Time<span id="selected-country"> - Startups</span></h4>
                                          						<div id="population-line-chart"></div>
                                          					</div>
                                          					<div class="col-sm-12 col-lg-6">
                                          						<h4 class="population-charts-title">Deadlines Missed<span id="selected-country"> - Startups</span></h4>
                                          						<div id="working-population-line-chart"></div>
                                          					</div>
                                                  </div>
                                                </div>

                        <!-- ####################################### C4 ############################################-->

                                                <br><br><br><br>
                                          			<div class="row">
                                          				<h4 class="chart-title">Complaints Alloted & Passed<span id="selected-country"> - Startups</span></h4>
                                                  <div class="col-lg-11 col-xs-12">
                                          					<div id="merchandise-imports-exports-column-chart"></div>
                                          				</div>
                                          			</div>

                        <!-- ######################################################################################-->

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
  $(function () {
    var totalRevenue = 15341110,
        totalUsers = 7687036;

    // CanvasJS spline chart to show users - new and returning from Jan 2015 - Dec 2015
    var usersSplineChart = new CanvasJS.Chart("users-spline-chart", {
      animationEnabled: true,
      backgroundColor: "transparent",
      axisX: {
        gridThickness: 0,
        labelFontColor: "#bbbbbb",
        lineColor: "#bbbbbb"
      },
      axisY: {
        gridThickness: 0,
        labelFontColor: "#bbbbbb",
        lineColor: "#bbbbbb"
      },
      legend: {
        dockInsidePlotArea: true,
        fontColor: "#ffffff",
        fontSize: 16,
        horizontalAlign: "right",
        verticalAlign: "top"
      },
      toolTip: {
        backgroundColor: "#000000",
        borderThickness: 2,
        cornerRadius: 0,
        fontColor: "#ffffff",
        shared: true
      },
      data: [
        {
          color: "#424242",
          legendMarkerType: "square",
          legendText: "Alloted",
          name: "Alloted",
          showInLegend: true,
          type: "spline",
          dataPoints: [
            { x: new Date("1 Jan 2015"), y: 32 },
            { x: new Date("1 Feb 2015"), y: 40 },
            { x: new Date("1 Mar 2015"), y: 48 },
            { x: new Date("1 Apr 2015"), y: 33 },
            { x: new Date("1 May 2015"), y: 38 },
            { x: new Date("1 Jun 2015"), y: 47 },
            { x: new Date("1 Jul 2015"), y: 54 },
            { x: new Date("1 Aug 2015"), y: 43 },
            { x: new Date("1 Sep 2015"), y: 59 },
            { x: new Date("1 Oct 2015"), y: 56 },
            { x: new Date("1 Nov 2015"), y: 59 },
            { x: new Date("1 Dec 2015"), y: 61 }
          ]
        },
        {
          color: "#c70000",
          legendMarkerType: "square",
          legendText: "Missed",
          name: "Missed",
          showInLegend: true,
          type: "spline",
          dataPoints: [
            { x: new Date("1 Jan 2015"), y: 10 },
            { x: new Date("1 Feb 2015"), y: 13 },
            { x: new Date("1 Mar 2015"), y: 16 },
            { x: new Date("1 Apr 2015"), y: 11 },
            { x: new Date("1 May 2015"), y: 12 },
            { x: new Date("1 Jun 2015"), y: 15 },
            { x: new Date("1 Jul 2015"), y: 18 },
            { x: new Date("1 Aug 2015"), y: 14 },
            { x: new Date("1 Sep 2015"), y: 19 },
            { x: new Date("1 Oct 2015"), y: 18 },
            { x: new Date("1 Nov 2015"), y: 19 },
            { x: new Date("1 Dec 2015"), y: 20 }
          ]
        }
      ]
    });

    // jQuery.inview plugin
    $('.inview').one('inview', function (e, isInView) {
      if (isInView) {
        switch (this.id) {
          case "users-spline-chart": usersSplineChart.render();
            break;
        }
      }
    });

  });
</script>

<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
<script src="{% static 'employee/jquery.inview.min.js' %}" type="text/javascript"></script>
<script src="{% static 'employee/jquery.scrollspeed.min.js' %}" type="text/javascript"></script>

<script type="text/javascript" src=" {% static 'dashboard/main.cba69814a806ecc7945a.js' %}"></script>

<script src="{% static 'employee/economy-dashboard-data.js' %}" type="text/javascript"></script>
<script src="{% static 'employee/economy-dashboard.js' %}" type="text/javascript"></script>
<script src="{% static 'employee/nouislider.min.js' %}" type="text/javascript"></script>

{% endblock %}
